define ("format_timeline/deletepost",["jquery","core/ajax","format_timeline/sweetalert"],function(a,b,c){var d=function(){this.registerEventListeners()};d.prototype.registerEventListeners=function(){a(".delete-post").click(function(b){b.preventDefault();var d=a(b.currentTarget);c.fire({title:"Voc\xEA tem certeza disso?",text:"Depois de exclu\xEDda a publica\xE7\xE3o n\xE3o poder\xE1 ser recuperada!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, pode excluir!",cancelButtonText:"Cancelar"}).then(function(a){if(a.value){this.deletePost(d)}}.bind(this))}.bind(this))};d.prototype.deletePost=function(a){var c=b.call([{methodname:"format_timeline_deletepost",args:{post:{id:a.data("id")}}}]);c[0].done(function(){this.removeDiscuss(a)}.bind(this)).fail(function(a){var b=a.message;if(!b){b=a.error}this.showToast("error",b)})};d.prototype.removeDiscuss=function(b){var c=b.closest("div.discuss");c.fadeOut("normal",function(){a(this).remove()});this.showToast("success","Publica\xE7\xE3o exclu\xEDda com sucesso.")};d.prototype.showToast=function(a,b){var d=c.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:8e3,timerProgressBar:!0,onOpen:function onOpen(a){a.addEventListener("mouseenter",c.stopTimer);a.addEventListener("mouseleave",c.resumeTimer)}});d.fire({icon:a,title:b})};return{init:function init(){return new d}}});
//# sourceMappingURL=deletepost.min.js.map
